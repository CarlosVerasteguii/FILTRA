# Story 1.5: Minimal Samples for Windows Verification

## Status
Done

## Story
**As a** Windows readiness coordinator,
**I want** repository-provided text-based resume and JD samples aligned to Windows encodings,
**so that** Windows 11 validation can proceed without waiting for later sample-generation stories.

## Acceptance Criteria
1. `samples/inputs/` contains `resume_windows_sample.txt` encoded as UTF-8-sig and `jd_windows_sample.txt` encoded as Windows-1252, each with clear synthetic content describing intended usage.
2. README Windows guidance references the new text samples with PowerShell-ready commands that quote paths and call out expected encodings.
3. `docs/qa/windows-11-runbook.md` uses the new samples throughout the verification steps and documents the expected encoding detection outcomes.
4. Automated tests cover running the CLI with the new samples, confirming cp1252 fallback is exercised without regressions.

## Tasks / Subtasks
- [x] Create Windows-focused text samples under `samples/inputs/` with the required encodings and descriptive guidance (AC: 1) [Source: architecture/source-tree.md#source-tree][Source: architecture/test-strategy-and-standards.md#test-data-management]
  - [x] Author `resume_windows_sample.txt` using UTF-8-sig BOM and include header comments explaining intended validation usage (AC: 1) [Source: architecture/test-strategy-and-standards.md#test-data-management]
  - [x] Author `jd_windows_sample.txt` saved in Windows-1252 encoding, noting fallback expectations for manual testers (AC: 1) [Source: architecture/test-strategy-and-standards.md#test-data-management]
- [x] Extend automated coverage to execute the CLI against the new samples, ensuring encoding fallback remains stable (AC: 4) [Source: architecture/test-strategy-and-standards.md#integration-tests][Source: architecture/test-strategy-and-standards.md#unit-tests]
  - [x] Provide fixtures/helpers to load sample files with Windows path semantics inside tests (AC: 4) [Source: architecture/test-strategy-and-standards.md#test-data-management]
  - [x] Assert the CLI reports UTF-8-sig for the resume sample and cp1252 for the JD sample while completing successfully (AC: 4) [Source: architecture/components.md#cli-command-layer]
- [x] Update README Windows setup guidance to reference the new samples and PowerShell commands (AC: 2) [Source: architecture/coding-standards.md#core-standards][Source: architecture/infrastructure-and-deployment.md#deployment-strategy]
  - [x] Highlight copying the samples into directories with spaces and note the expected encodings for each file (AC: 2) [Source: architecture/infrastructure-and-deployment.md#environments]
- [x] Refresh `docs/qa/windows-11-runbook.md` so manual steps align with the new samples and record expected encoding detections (AC: 3) [Source: architecture/test-strategy-and-standards.md#continuous-testing][Source: architecture/infrastructure-and-deployment.md#deployment-strategy]
  - [x] Update fallback validation instructions to refer to editing the cp1252 job description sample and capturing observed encoding (AC: 3) [Source: architecture/test-strategy-and-standards.md#continuous-testing]

## Dev Notes
### Previous Story Insights
- Windows verification workflows depend on curated golden samples stored under `samples/inputs/`, so providing text assets keeps manual and automated coverage aligned. [Source: architecture/test-strategy-and-standards.md#test-data-management]

### Data Models
- No specific guidance found in architecture docs.

### API Specifications
- No specific guidance found in architecture docs.

### Component Specifications
- The CLI command layer consumes resume and JD paths and must continue handling encoding detection consistently when pointed at the new samples. [Source: architecture/components.md#cli-command-layer]
- Configuration and persistence utilities expect sample data to reside in filesystem locations declared in the source tree. [Source: architecture/components.md#configuration--persistence-layer]

### File Locations
- Place the new assets in `samples/inputs/` as documented by the source tree guide. [Source: architecture/source-tree.md#source-tree]
- Test fixtures referencing the samples belong under `tests/` alongside existing CLI and integration suites. [Source: architecture/source-tree.md#source-tree]

### Testing Requirements
- Use pytest-based unit and integration tests to exercise CLI encoding fallback behaviour with the new samples. [Source: architecture/test-strategy-and-standards.md#unit-tests][Source: architecture/test-strategy-and-standards.md#integration-tests]
- Maintain golden sample discipline by version-controlling anonymized fixtures and keeping deterministic expectations. [Source: architecture/test-strategy-and-standards.md#test-data-management]

### Technical Constraints
- Preserve Windows-friendly CLI behaviour, including quoting and quiet-mode rules, when extending documentation and tests. [Source: architecture/coding-standards.md#core-standards]
- Continue prioritizing Windows 11 as the primary verification environment for this epic. [Source: architecture/infrastructure-and-deployment.md#environments]

### Project Structure Notes
- Follow the documented source tree for asset placement; no new top-level directories should be introduced. [Source: architecture/source-tree.md#source-tree]
- There is no standalone unified project structure document; rely on `source-tree.md` for placement guidance. [Source: architecture/source-tree.md#source-tree]

### Testing
- Achieve >=85% coverage across touched modules by extending existing pytest suites with the new sample-driven scenarios. [Source: architecture/test-strategy-and-standards.md#testing-philosophy]
- Document manual verification outcomes in the Windows runbook after executing steps with the new samples. [Source: architecture/test-strategy-and-standards.md#continuous-testing]

## Change Log
| Date       | Version | Description                                        | Author             |
| ---------- | ------- | -------------------------------------------------- | ------------------ |
| 2025-09-28 | v0.1    | Initial draft                                      | Bob (Scrum Master) |
| 2025-09-28 | v0.2    | Added Windows text samples, docs, and CLI coverage | James (Developer)  |

## Dev Agent Record
### Agent Model Used
- GPT-5 (Codex)

### Debug Log References
- pytest (numpy 2.x compatibility warning surfaced before tests passed)

### Completion Notes List
- Added Windows-friendly text samples with BOM and Windows-1252 encodings plus usage guidance.
- Updated README and Windows runbook to reference the new samples and expected encoding detections.
- Extended CLI tests with fixtures that exercise the bundled samples and asserted reported encodings.

### File List
- samples/inputs/resume_windows_sample.txt
- samples/inputs/jd_windows_sample.txt
- README.md
- docs/qa/windows-11-runbook.md
- docs/architecture/source-tree.md
- tests/test_cli.py

## QA Results

### Review Date: 2025-09-29

### Reviewed By: Quinn (Test Architect)

### Code Quality Assessment
The implementation is of high quality. Changes are well-documented, and the new automated tests follow project standards, improving the robustness of the CLI's encoding detection. All documentation updates are clear and provide excellent guidance for Windows users.

### Refactoring Performed
No refactoring was necessary as the implementation was clean and followed existing patterns.

### Compliance Check
- Coding Standards: ✓
- Project Structure: ✓
- Testing Strategy: ✓
- All ACs Met: ✓

### Improvements Checklist
- [x] All required changes were implemented successfully.

### Security Review
No security concerns were identified. The changes are limited to sample data, documentation, and testing.

### Performance Considerations
There are no performance implications from these changes.

### Files Modified During Review
None.

### Gate Status
Gate: PASS → docs/qa/gates/1.5-minimal-samples-for-windows-verification.yml

### Recommended Status
[✓ Ready for Done]