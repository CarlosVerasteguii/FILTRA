# Story 2.4: Entities Report Section

## Status
Draft

## Story
**As a** user,
**I want** a clear entities section in the terminal output,
**so that** I can quickly scan skills and companies.

## Acceptance Criteria
1. Render Skills and Companies tables using canonical entity aggregates, with default layout remaining ASCII-only and ~100 columns wide.
2. When the CLI is invoked with `--wide`, include the sources column and adjust wrapping to fit the expanded table; empty states display graceful placeholders.
3. Quiet mode prints only the final entities section and essential status lines while suppressing intermediate progress logs.
4. Reporting functions without scoring or LLM output and reuses evaluation labels/localization.

## Tasks / Subtasks
- [ ] Build reporting transformations for canonical entities (AC: 1,2) [Source: architecture/tech-stack.md#canonical-entity-data-model][Source: architecture/components.md#report-composition-layer]
  - [ ] Implement helpers that convert `CanonicalEntity` instances into table rows with labels, counts, contexts, and optional sources. (AC: 1,2)
  - [ ] Ensure default layout stays within ~100 columns and remains ASCII-only by leveraging width-aware helpers. (AC: 1)
- [ ] Respect quiet and wide rendering modes (AC: 2,3) [Source: architecture/components.md#report-composition-layer][Source: architecture/core-workflows.md#entity-processing-flow]
  - [ ] Update composers/renderers to read quiet/wide toggles provided by Story 2.4b and tailor output accordingly. (AC: 2,3)
  - [ ] Guarantee quiet executions emit the final entities section plus status lines even when upstream logging is suppressed. (AC: 3)
- [ ] Document and wire reporting module structure (AC: 1-4) [Source: architecture/source-tree.md#source-tree]
  - [ ] Create or refine the filtra/reporting package layout (composer, renderer, helpers) to align with the source tree specification. (AC: 1-4)
  - [ ] Update CLI UX documentation to describe the entities section structure and its quiet/wide variants. (AC: 2,3)
- [ ] Expand automated coverage (AC: 1-4) [Source: architecture/test-strategy-and-standards.md#canonical-entity-coverage][Source: architecture/test-strategy-and-standards.md#quiet-and-wide-modes]
  - [ ] Add unit tests for table formatting, empty states, and localization fallbacks. (AC: 1,2,4)
  - [ ] Add integration tests confirming quiet output includes the entities section and that wide mode renders sources with deterministic ordering. (AC: 2,3,4)

## Dev Notes
- This story depends on Story 2.4a for the canonical entity data model and Story 2.4b for CLI toggles; do not begin implementation until both are complete. [Source: docs/stories/2.4a.entities-canonical-model.md][Source: docs/stories/2.4b.cli-reporting-modes.md]
- Coordinate with the localization utilities from earlier stories to ensure labels remain locale-aware. [Source: docs/stories/2.2.multilingual-ner-cpu-only.md#dev-notes]

## Testing
- Unit coverage should live under tests/reporting/ mirroring module structure and covering table assembly helpers. [Source: architecture/source-tree.md#source-tree][Source: architecture/test-strategy-and-standards.md#canonical-entity-coverage]
- Integration coverage should confirm quiet/wide behavior via CLI runs once upstream stories land. [Source: architecture/test-strategy-and-standards.md#quiet-and-wide-modes]

## Change Log
| Date | Version | Description | Author |
| ---- | ------- | ----------- | ------ |

## Dev Agent Record
### Agent Model Used

### Debug Log References

### Completion Notes List

### File List

## QA Results
